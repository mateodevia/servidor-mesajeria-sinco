(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{41:function(e,t,n){e.exports=n.p+"static/media/LogoSinco.62291b0f.svg"},44:function(e,t,n){"use strict";(function(e){var a=n(46),r=n(8),o=n(0),c=n.n(o),s=(n(60),n(95)),i=n(45),l=n.n(i);t.a=Object(s.d)((function(t){var n=Object(o.useState)(void 0),s=Object(r.a)(n,2),i=s[0],u=s[1],d=Object(o.useState)(void 0),m=Object(r.a)(d,2),f=m[0],p=m[1],v=function(e){var t=0;for(var n in e.subProcesos)e.subProcesos[n]&&(t+=1);return 100*t/e.cantidad+"%"},E=l()("/");return Object(o.useEffect)((function(){return fetch("/clients/".concat(window.sessionStorage.username,"/processes")).then((function(e){e.json().then((function(e){u(e)}))})),E.on("connect",(function(){console.log("Main socket opnened"),E.emit("suscribeTo",window.sessionStorage.username)})),E.on("update",(function(e){p(e)})),function(){return E.close()}}),[]),Object(o.useEffect)((function(){if(i){console.log(f);f.process;var t=f.result,n=f.subProcess,r=Object(a.a)(i),o=void 0,c=!0;for(var s in r)r[s].tipo===e.tipo&&(o=s,r[s][parseInt(n)]=t);for(var l=0;l<e.cantidad;l++)!1===r[o][l]&&(c=!1);c&&r.splice(o,1),u(r)}}),[f]),c.a.createElement("div",{className:"processesContainer"},c.a.createElement("h1",null,"Mis Procesos"),!i&&c.a.createElement("h4",null,"Cargando..."),0===(null===i||void 0===i?void 0:i.length)&&c.a.createElement("h4",null,"No hay procesos activos"),null===i||void 0===i?void 0:i.map((function(e,t){return c.a.createElement("div",{key:t,className:"processContainer"},c.a.createElement("h3",null,e.tipo),c.a.createElement("div",{className:"processFlex"},c.a.createElement("div",{className:"statisticContainer"},c.a.createElement("div",{className:"greenCircle"}),c.a.createElement("h5",null,"Exitosos: ",function(e){var t=0;for(var n in e.subProcesos)"Exito"===e.subProcesos[n]&&(t+=1);return t}(e))),c.a.createElement("div",{className:"statisticContainer"},c.a.createElement("div",{className:"redCircle"}),c.a.createElement("h5",null,"Fallidos: ",function(e){var t=0;for(var n in e.subProcesos)"Falla"===e.subProcesos[n]&&(t+=1);return t}(e)))),c.a.createElement("div",{className:"progressBar"},c.a.createElement("div",{style:{width:v(e)}})))})))}))}).call(this,n(13))},47:function(e,t,n){e.exports=n(94)},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},90:function(e,t){},93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(40),c=n.n(o),s=n(95),i=n(3),l=(n(52),n(53),n(54),n(41)),u=n.n(l);var d=Object(s.d)((function(e){return Object(a.useEffect)((function(){window.sessionStorage.username||e.history.push("/")}),[]),r.a.createElement("div",{className:"headerContainer"},r.a.createElement("img",{className:"logo",src:u.a,onClick:function(){return e.history.push("/")}}),r.a.createElement("div",{className:"misProcesos"===e.selected?"selected title":"title",onClick:function(){return e.history.push("/misprocesos")}},"Mis Procesos"),r.a.createElement("div",{className:"crearProceso"===e.selected?"selected title":"title",onClick:function(){return e.history.push("/crearproceso")}},"Crear Proceso"))}));n(59);var m=Object(s.d)((function(e){var t=Object(a.useRef)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"loginContainer"},r.a.createElement("h1",null,"Bienvenido"),r.a.createElement("h2",null,"Para ingresar al manejador de procesos de Sincosoft ingrese su identificador de usuario"),r.a.createElement("input",{ref:t,type:"text",placeholder:"Identificador del usuario"}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){""===t.current.value?alert("El usuario no es valido"):(window.sessionStorage.username=t.current.value,e.history.push("/misprocesos"))}},"Entrar")))})),f=n(44),p=n(8);n(93);var v=Object(s.d)((function(e){var t=Object(a.useState)(!1),n=Object(p.a)(t,2),o=n[0],c=n[1],s=Object(a.useRef)(),i=Object(a.useRef)();return r.a.createElement("div",{className:"createProcessContainer"},r.a.createElement("h1",null,"Crear Proceso"),r.a.createElement("h3",null,"Por favor ingrese el tipo de proceso, y la cantidad de procesos que quiere mandar a ejecutar"),r.a.createElement("input",{ref:s,type:"text",placeholder:"Tipo de proceso",disabled:o}),r.a.createElement("input",{ref:i,type:"number",placeholder:"Cantidad",disabled:o}),r.a.createElement("button",{disabled:o,onClick:function(){""!=s.current.value&&""!=i.current.value?(c(!0),fetch("/clients/".concat(window.sessionStorage.username,"/processes"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:s.current.value,quantity:parseInt(i.current.value)})}).then((function(e){e.json().then((function(e){e.error?alert(e.error):(alert(e.msg),c(!1))}))}))):alert("Porfavor llene todosl los campos")}},"Crear"))}));var E=Object(s.d)((function(e){return r.a.createElement("div",null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",render:function(){return r.a.createElement(m,null)}}),r.a.createElement(s.a,{path:"/misprocesos",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{selected:"misProcesos"}),r.a.createElement(f.a,null))}}),r.a.createElement(s.a,{path:"/crearproceso",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{selected:"crearProceso"}),r.a.createElement(v,null))}})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var h=Object(i.a)();c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.b,{history:h},r.a.createElement(E,{history:h}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.7178fae0.chunk.js.map