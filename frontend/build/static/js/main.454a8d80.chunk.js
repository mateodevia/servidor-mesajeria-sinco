(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{41:function(e,t,n){e.exports=n.p+"static/media/LogoSinco.62291b0f.svg"},46:function(e,t,n){e.exports=n(94)},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},89:function(e,t){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(40),c=n.n(o),s=n(95),i=n(3),l=(n(51),n(52),n(53),n(41)),u=n.n(l);var d=Object(s.d)((function(e){return Object(r.useEffect)((function(){window.sessionStorage.username||e.history.push("/")}),[]),a.a.createElement("div",{className:"headerContainer"},a.a.createElement("img",{className:"logo",src:u.a,onClick:function(){return e.history.push("/")}}),a.a.createElement("div",{className:"misProcesos"===e.selected?"selected title":"title",onClick:function(){return e.history.push("/misprocesos")}},"Mis Procesos"),a.a.createElement("div",{className:"crearProceso"===e.selected?"selected title":"title",onClick:function(){return e.history.push("/crearproceso")}},"Crear Proceso"))}));n(58);var m=Object(s.d)((function(e){var t=Object(r.useRef)();return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"loginContainer"},a.a.createElement("h1",null,"Bienvenido"),a.a.createElement("h2",null,"Para ingresar al manejador de procesos de Sincosoft ingrese su identificador de usuario"),a.a.createElement("input",{ref:t,type:"text",placeholder:"Identificador del usuario"}),a.a.createElement("br",null),a.a.createElement("button",{onClick:function(){""===t.current.value?alert("El usuario no es valido"):(window.sessionStorage.username=t.current.value,e.history.push("/misprocesos"))}},"Entrar")))})),f=n(45),p=n(5),v=(n(59),n(44)),E=n.n(v);n(92);var h=function(e){var t=Object(r.useState)(!1),n=Object(p.a)(t,2),o=n[0],c=n[1];return a.a.createElement("div",{className:"processContainer",onClick:function(){return c(!o)}},a.a.createElement("h3",null,e.process.tipo),a.a.createElement("div",{className:"processFlex"},a.a.createElement("div",{className:"statisticContainer"},a.a.createElement("div",{className:"greenCircle"}),a.a.createElement("h5",null,"Exitosos: ",function(e){for(var t=0,n=0;n<e.cantidad;n++){var r;"Exito"===(null===(r=e[n])||void 0===r?void 0:r.result)&&(t+=1)}return t}(e.process))),a.a.createElement("div",{className:"statisticContainer"},a.a.createElement("div",{className:"redCircle"}),a.a.createElement("h5",null,"Fallidos: ",function(e){for(var t=0,n=0;n<e.cantidad;n++)e[n]&&"Exito"!==e[n].result&&(t+=1);return t}(e.process)))),a.a.createElement("div",{className:"progressBar"},a.a.createElement("div",{style:{width:function(e){for(var t=0,n=0;n<e.cantidad;n++)e[n]&&(t+=1);return 100*t/e.cantidad+"%"}(e.process)}})),o&&a.a.createElement("div",{className:"subProcessesContainer"},Object.keys(e.process).filter((function(e){return"_id"!==e&&"cantidad"!==e&&"cliente"!==e&&"tipo"!==e})).map((function(t,n){return a.a.createElement("div",{key:n},e.process[t]?a.a.createElement("div",{className:"subprocess",style:"Exito"===e.process[t].result?{borderLeft:"4px solid rgb(134, 206, 27)"}:{borderLeft:"4px solid rgb(200, 45, 45)"}},n,":"," ",e.process[t].description||"Exito"):a.a.createElement("div",{className:"subprocess"},n,": Pendiente"))}))))};var b=Object(s.d)((function(e){var t=Object(r.useState)(void 0),n=Object(p.a)(t,2),o=n[0],c=n[1],s=Object(r.useState)(void 0),i=Object(p.a)(s,2),l=i[0],u=i[1],d=E()("/");return Object(r.useEffect)((function(){return fetch("/clients/".concat(window.sessionStorage.username,"/processes")).then((function(e){e.json().then((function(e){c(e)}))})),d.on("connect",(function(){console.log("Main socket opnened"),d.emit("suscribeTo",window.sessionStorage.username)})),d.on("update",(function(e){u(e)})),function(){return d.close()}}),[]),Object(r.useEffect)((function(){if(o){console.log("Update from server",l);var e=l.process,t=l.result,n=l.subProcess,r=l.description,a=Object(f.a)(o),s=void 0,i=!0;for(var u in a)a[u].tipo===e.tipo&&(s=u,a[u][parseInt(n)]={result:t,description:r});for(var d=0;d<e.cantidad;d++)!1===a[s][d]&&(i=!1);i&&a.splice(s,1),c(a)}}),[l]),a.a.createElement("div",{className:"processesContainer"},a.a.createElement("h1",null,"Mis Procesos"),!o&&a.a.createElement("h4",null,"Cargando..."),0===(null===o||void 0===o?void 0:o.length)&&a.a.createElement("h4",null,"No hay procesos activos"),null===o||void 0===o?void 0:o.map((function(e,t){return a.a.createElement(h,{key:t,process:e})})))}));n(93);var g=Object(s.d)((function(e){var t=Object(r.useState)(!1),n=Object(p.a)(t,2),o=n[0],c=n[1],s=Object(r.useRef)(),i=Object(r.useRef)();return a.a.createElement("div",{className:"createProcessContainer"},a.a.createElement("h1",null,"Crear Proceso"),a.a.createElement("h3",null,"Por favor ingrese el tipo de proceso, y la cantidad de procesos que quiere mandar a ejecutar"),a.a.createElement("input",{ref:s,type:"text",placeholder:"Tipo de proceso",disabled:o}),a.a.createElement("input",{ref:i,type:"number",placeholder:"Cantidad",disabled:o}),a.a.createElement("button",{disabled:o,onClick:function(){""!=s.current.value&&""!=i.current.value?(c(!0),fetch("/clients/".concat(window.sessionStorage.username,"/processes"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:s.current.value,quantity:parseInt(i.current.value)})}).then((function(e){e.json().then((function(e){e.error?(alert(e.error),c(!1)):(alert(e.msg),c(!1))}))}))):alert("Porfavor llene todosl los campos")}},"Crear"))}));var j=Object(s.d)((function(e){return a.a.createElement("div",null,a.a.createElement(s.c,null,a.a.createElement(s.a,{exact:!0,path:"/",render:function(){return a.a.createElement(m,null)}}),a.a.createElement(s.a,{path:"/misprocesos",render:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(d,{selected:"misProcesos"}),a.a.createElement(b,null))}}),a.a.createElement(s.a,{path:"/crearproceso",render:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(d,{selected:"crearProceso"}),a.a.createElement(g,null))}})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=Object(i.a)();c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(s.b,{history:y},a.a.createElement(j,{history:y}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.454a8d80.chunk.js.map